<link href="/stylesheets/views/courseDetail.css" rel="stylesheet" type="text/css" />
<div class="kt-container kt-grid__item kt-grid__item--fluid" ng-app="pageApp" ng-controller="pageCtrl">
  <div class="kt-subheader kt-grid__item">
    <div class="kt-container">
      <div class="kt-subheader__main">
        <h3 class="kt-subheader__title"></h3>
      </div>
    </div>
  </div>

  <div class="kt-portlet">
    <div class="kt-portlet__body">
      <div class="kt-widget kt-widget--user-profile-3">
        <div class="kt-widget__top">
          <div class="kt-widget__pic kt-widget__pic--success kt-font-success kt-font-boldest kt-font-light btn-option"
               ng-bind="model.courseInfo.technologyName"
               ng-click="onOpenTechnologyInfo(model.courseInfo.technologyID)"></div>
          <div class="kt-widget__content">
            <div class="kt-widget__head">
              <h4 ng-bind="model.courseInfo.courseName"></h4>
              <div class="kt-widget__action">
                <button type="button"
                        id="btnDeleteCourse"
                        class="btn btn-danger btn-sm btn-upper"
                        ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                        ng-click="onDeleteCourse()">删除课程</button>&nbsp;
              </div>
            </div>
            <div class="kt-widget__subhead">
              <span>
                <i class="fa fa-home"></i>
                <span ng-bind="model.courseInfo.universityName"></span>
              </span> &nbsp;
              <span>
                <i class="fa fa-graduation-cap"></i>
                <span ng-bind="model.courseInfo.schoolName"></span>
              </span> &nbsp;
              <span>
                <i class="fa fa-chalkboard-teacher"></i>
                <span ng-bind="model.courseInfo.teacherName"></span>
              </span>
            </div>
            <div class="kt-widget__info">
              <div class="kt-widget__desc course-decs-3" title="\{{model.courseInfo.courseIntroduction}}" ng-bind="model.courseInfo.courseIntroduction"></div>
              <div class="kt-widget__stats d-flex align-items-center flex-fill">
                <div class="kt-widget__item">
                  <span class="kt-widget__date text-center">
                    开始时间
                  </span>
                  <div class="kt-widget__label">
                    <span class="btn btn-label-brand btn-sm btn-bold btn-upper" ng-bind="model.courseInfo.courseTimeBegin"></span>
                  </div>
                </div>
                <div class="kt-widget__item">
                  <span class="kt-widget__date text-center">
                    结束时间
                  </span>
                  <div class="kt-widget__label">
                    <span class="btn btn-label-danger btn-sm btn-bold btn-upper" ng-bind="model.courseInfo.courseTimeEnd"></span>
                  </div>
                </div>
                <div class="kt-widget__item flex-fill">
                  <span class="kt-widget__subtitel">课程进度</span>
                  <div class="kt-widget__progress d-flex  align-items-center">
                    <div class="progress" style="height: 5px;width: 100%;">
                      <div class="progress-bar kt-bg-success"
                           role="progressbar"
                           ng-style="{'width': model.courseInfo.courseProcess}"
                           aria-valuenow="100"
                           aria-valuemin="0"
                           aria-valuemax="100"></div>
                    </div>
                    <span class="kt-widget__stat" ng-bind="model.courseInfo.courseProcess"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="kt-widget__bottom">
          <div class="kt-widget__item">
            <div class="kt-widget__icon">
              <i class="fa fa-handshake"></i>
            </div>
            <div class="kt-widget__details">
              <span class="kt-widget__title">使用该技术的企业</span>
              <span class="kt-widget__value">
                \{{model.courseInfo.courseTechnologyUsingCompanyCount}}家
              </span>
            </div>
          </div>
          <div class="kt-widget__item">
            <div class="kt-widget__icon">
              <i class="flaticon-list-3"></i>
            </div>
            <div class="kt-widget__details">
              <span class="kt-widget__title">覆盖知识点</span>
              <span class="kt-widget__value">
                \{{model.courseInfo.courseKnowledgeCount}}/\{{model.courseInfo.technologyKnowledgeCount}}
              </span>
            </div>
          </div>
          <div class="kt-widget__item">
            <div class="kt-widget__icon">
              <i class="flaticon-list"></i>
            </div>
            <div class="kt-widget__details">
              <span class="kt-widget__title">编程练习</span>
              <span class="kt-widget__value">
                \{{model.courseInfo.courseKnowledgeExercisesCount}}
              </span>
            </div>
          </div>
          <div class="kt-widget__item">
            <div class="kt-widget__icon">
              <i class="flaticon2-user"></i>
            </div>
            <div class="kt-widget__details">
              <span class="kt-widget__title">报名学生</span>
              <span class="kt-widget__value">
                \{{model.courseInfo.courseSingUpCount}}
              </span>
            </div>
          </div>
          <div class="kt-widget__item">
            <div class="kt-widget__icon">
              <i class="flaticon-chat-1"></i>
            </div>
            <div class="kt-widget__details">
              <span class="kt-widget__title">在线提问</span>
              <span class="kt-widget__value">
                \{{model.courseInfo.courseQuestionFinish}}/\{{model.courseInfo.courseQuestion}}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-xl-12">
      <div class="kt-portlet">
        <div class="kt-portlet__head">
          <div class="kt-portlet__head-label">
            <h3 class="kt-portlet__head-title">
              课程详细信息
            </h3>
          </div>
        </div>
        <div class="kt-portlet__body">
          <ul class="nav nav-tabs  nav-tabs-line" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" data-toggle="tab" href="#kt_tabs_1">基本信息</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_2" role="tab" aria-selected="false">课程表</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_3" role="tab" aria-selected="false">授课计划</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_4" role="tab" aria-selected="false">编程练习</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_1_3" role="tab" aria-selected="false">报名学生</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_1_5" role="tab" aria-selected="false">学生练习</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" data-toggle="tab" href="#kt_tabs_1_4" role="tab" aria-selected="false">在线答疑</a>
            </li>


          </ul>
          <div class="tab-content">
            <div class="tab-pane active" id="kt_tabs_1" role="tabpanel">
              <form name="baseForm" class="kt-form kt-form--label-right">
                <div class="kt-portlet__body">
                  <div class="form-group row">
                    <label for="example-text-input" class="col-2 col-form-label">课程名称</label>
                    <div class="col-10">
                      <input class="form-control"
                             type="text"
                             name="courseName"
                             ng-model="model.courseBaseInfo.courseName"
                             ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                             required>
                      <label class="col-form-label"
                             ng-if="!model.isLogin || model.loginUser.customerID != model.courseInfo.teacherID"
                             ng-bind="model.courseBaseInfo.courseName"></label>
                    </div>
                  </div>
                  <div class="form-group row" ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID">
                    <label for="example-search-input" class="col-2 col-form-label">授课时间</label>
                    <div class="col-4">
                      <input class="form-control"
                             type="date"
                             name="courseTimeBegin"
                             ng-model="model.courseBaseInfo.courseTimeBegin"
                             ng-change="onBeginDateChange(model.courseBaseInfo.courseTimeBegin)"
                             required>
                    </div>
                    <div class="col-2">
                      <div class="form-group data-separate">～
                      </div>
                    </div>
                    <div class="col-4">
                      <input class="form-control" type="date" name="courseTimeEnd" ng-model="model.courseBaseInfo.courseTimeEnd" ng-change="onEndDateChange(model.courseBaseInfo.courseTimeEnd)" required>
                    </div>
                  </div>

                  <div class="form-group row" ng-if="!model.isLogin || model.loginUser.customerID != model.courseInfo.teacherID">
                    <label for="example-search-input" class="col-2 col-form-label">授课时间</label>
                    <div class="col-10">
                      <label class="col-form-label"
                             ng-if="!model.isLogin || model.loginUser.customerID != model.courseInfo.teacherID"
                             ng-bind="model.courseBaseInfo.courseBeginDateFormat"></label>
                      ～
                      <label class="col-form-label"
                             ng-if="!model.isLogin || model.loginUser.customerID != model.courseInfo.teacherID"
                             ng-bind="model.courseBaseInfo.courseEndDateFormat"></label>
                    </div>
                  </div>


                  <div class="form-group row">
                    <label for="example-email-input" class="col-2 col-form-label">课程简介</label>
                    <div class="col-10">
                      <textarea class="form-control"
                                rows="6"
                                name="courseIntroduction"
                                ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                                ng-model="model.courseBaseInfo.courseIntroduction"
                                required></textarea>
                      <p class="col-form-label" ng-if="!model.isLogin || model.loginUser.customerID != model.courseInfo.teacherID" ng-bind="model.courseBaseInfo.courseIntroduction"></p>
                    </div>
                  </div>
                </div>
                <div class="kt-portlet__foot">
                  <div class="kt-form__actions">
                    <div class="row">
                      <div class="col-12 text-center">
                        <button type="reset"
                                class="btn btn-success"
                                id="btnSaveCourseInfo"
                                ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                                ng-click="onSaveCourseInfo()"
                                ng-disabled="(baseForm.courseName.$dirty && baseForm.courseName.$invalid)
                                            || (baseForm.courseTimeBegin.$dirty && baseForm.courseTimeBegin.$invalid)
                                            || (baseForm.courseTimeEnd.$dirty && baseForm.courseTimeEnd.$invalid)
                                            || (baseForm.courseIntroduction.$dirty && baseForm.courseIntroduction.$invalid)">保存基本信息</button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="tab-pane" id="kt_tabs_2" role="tabpanel">
              <form class="kt-form">
                <div class="kt-portlet__body" style="padding-top: 0">
                  <div class="kt-datatable kt-datatable--default kt-datatable--brand kt-datatable--loaded" style="width: 100%; margin: 0 auto">
                    <table class="kt-datatable__table" style="display: block;">
                      <thead class="kt-datatable__head">
                      <tr class="kt-datatable__row" style="left: 0; border-bottom: none">
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 15%"></th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 55%"></th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 15%">
                          <a href="javascript:;"
                             class="kt-font-brand kt-link kt-font-bold"
                             ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                             ng-click="onShowCourseScheduleModal()"><i class="fa fa-edit"></i>修改</a>
                        </th>
                      </tr>
                      </thead>
                    </table>
                  </div>
                  <div class="kt-datatable kt-datatable--default kt-datatable--brand kt-datatable--loaded"
                       style="width: 100%; margin: 0 auto">
                    <table class="kt-datatable__table" style="display: block;">
                      <thead class="kt-datatable__head">
                      <tr class="kt-datatable__row" style="left: 0;">
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 15%">工作日</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 55%">授课节次</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center"
                            ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                            style="width: 15%">操作</th>
                      </tr>
                      </thead>
                      <tbody class="kt-datatable__body">
                      <tr class="kt-datatable__row" style="left: 0;" ng-repeat="courseSchedule in model.courseScheduleList">
                        <td class="kt-datatable__cell text-center" style="width: 15%" ng-bind="courseSchedule.weekday.dayText"></td>
                        <td class="kt-datatable__cell text-center" style="width: 55%">
                          <span ng-repeat="course in courseSchedule.schedule">\{{course.orderText}}(\{{course.time}})</span>
                        </td>
                        <td class="kt-datatable__cell text-center"
                            ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                            style="width: 15%">
                          <button type="button"
                                  class="btn btn-secondary btn-sm"
                                  ng-click="onCancelSchedule($index)">取消</button>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="kt-portlet__foot">
                  <div class="kt-form__actions">
                    <div class="row">
                      <div class="col-12 text-center">
                        <button type="button"
                                class="btn btn-success"
                                id="btnSaveCourseSchedule"
                                ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                                ng-disabled="model.courseScheduleList.length == 0"
                                ng-click="onSaveCourseSchedule()">保存课程表信息</button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="tab-pane" id="kt_tabs_3" role="tabpanel">
              <form class="kt-form">
                <div class="kt-portlet__body" style="padding-top: 0">
                  <div class="kt-datatable kt-datatable--default kt-datatable--brand kt-datatable--loaded" style="width: 100%; margin: 0 auto">
                    <table class="kt-datatable__table" style="display: block;">
                      <thead class="kt-datatable__head">
                      <tr class="kt-datatable__row" style="left: 0; border-bottom: none">
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%"></th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%"></th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 65%"></th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 15%">
                          <a href="javascript:;"
                             class="kt-font-brand kt-link kt-font-bold"
                             ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                             ng-click="onShowCoursePlanModal()"><i class="fa fa-edit"></i>修改</a>
                        </th>
                      </tr>
                      </thead>
                    </table>
                  </div>
                  <div class="kt-datatable kt-datatable--default kt-datatable--brand kt-datatable--loaded"
                       style="width: 85%; margin: 0 auto">
                    <table class="kt-datatable__table" style="display: block;">
                      <thead class="kt-datatable__head">
                        <tr class="kt-datatable__row" style="left: 0;">
                          <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%">节次</th>
                          <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%">技术</th>
                          <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 52%">所授知识点</th>
                          <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 8%">状态</th>
                          <th class="kt-datatable__cell kt-datatable__cell--sort text-center"
                              ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                              style="width: 15%">操作</th>
                        </tr>
                      </thead>
                      <tbody class="kt-datatable__body">
                        <tr class="kt-datatable__row" style="left: 0;" ng-repeat="coursePlan in model.coursePlanList">
                          <td class="kt-datatable__cell text-center" style="width: 10%" >第\{{coursePlan.courseOrder}}节</td>
                          <td class="kt-datatable__cell text-center" style="width: 10%" >\{{coursePlan.technologyName}}</td>
                          <td class="kt-datatable__cell text-center" style="width: 52%">
                            <span ng-repeat="knowledgeName in coursePlan.knowledgeNameArray" ng-bind="knowledgeName"></span>
                          </td>
                          <td class="kt-datatable__cell text-center" style="width: 8%" >
                             <span class="kt-badge kt-badge--inline kt-badge--pill"
                                   style="color: #ffffff; display: inline-flex; "
                                   ng-class="{'kt-badge--primary': coursePlan.dataStatus == 'P', 'kt-badge--success': coursePlan.dataStatus == 'F'}"
                                   ng-bind="coursePlan.dataStatusText">
                            </span>
                          </td>

                          <td class="kt-datatable__cell text-center"
                              ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                              style="width: 15%">
                            <button type="button"
                                    class="btn btn-secondary btn-sm"
                                    ng-click="onCancelPlan($index)"
                                    ng-if="coursePlan.dataStatus === 'P'">取消</button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="kt-portlet__foot">
                  <div class="kt-form__actions">
                    <div class="row">
                      <div class="col-12 text-center">
                        <button type="button"
                                class="btn btn-success"
                                id="btnSaveCoursePlan"
                                ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                                ng-disabled="model.noFinishClassCount === 0"
                                ng-click="onSaveCoursePlan()">
                          保存授课计划信息
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
            </div>
            <div class="tab-pane" id="kt_tabs_4" role="tabpanel">
              <form class="kt-form">
                <div class="kt-portlet__body" style="padding-top: 0">
                  <div class="kt-datatable kt-datatable--default kt-datatable--brand kt-datatable--loaded"
                       style="width: 85%; margin: 0 auto">
                    <table class="kt-datatable__table" style="display: block;">
                      <thead class="kt-datatable__head">
                      <tr class="kt-datatable__row" style="left: 0;">
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%">节次</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%">技术</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 55%">覆盖知识点</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center" style="width: 10%">编程习题</th>
                        <th class="kt-datatable__cell kt-datatable__cell--sort text-center"
                            ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                            style="width: 15%">操作</th>
                      </tr>
                      </thead>
                      <tbody class="kt-datatable__body">
                      <tr class="kt-datatable__row" style="left: 0;" ng-repeat="exercises in model.exercisesList">
                        <td class="kt-datatable__cell text-center" style="width: 10%" >第\{{exercises.courseClass}}节</td>
                        <td class="kt-datatable__cell text-center" style="width: 10%" >\{{exercises.technologyName}}</td>
                        <td class="kt-datatable__cell text-center" style="width: 55%">
                          <span ng-repeat="knowledge in exercises.knowledgeArray" ng-bind="knowledge.knowledgeName"></span>
                        </td>
                        <td class="kt-datatable__cell text-center" style="width: 10%">
                          <a href="javascript:;" class="kt-widget__value kt-font-brand" ng-if="exercises.documentList.length > 0" ng-click="onShowExercisesModal(exercises.courseClass)">\{{exercises.documentList.length}}个编程练习</a>
                          <span ng-if="exercises.documentList.length == 0">\{{exercises.documentList.length}}个编程练习</span>
                        </td>

                        <td class="kt-datatable__cell text-center"
                            ng-if="model.isLogin && model.loginUser.customerID == model.courseInfo.teacherID"
                            style="width: 15%">
                          <button type="button"
                                  class="btn btn-info btn-sm" ng-click="onFinishClass(exercises, 'F')" ng-if="exercises.dataStatus === 'P' && exercises.documentList.length > 0">
                            下发练习
                          </button>
                          <button type="button" class="btn btn-secondary btn-hover-brand btn-sm" ng-click="onFinishClass(exercises, 'C')" ng-if="exercises.dataStatus === 'P' && exercises.documentList.length === 0">
                            结束本节
                          </button>
                          <span class="kt-badge kt-badge--inline kt-badge--pill kt-badge--success" style="color: #ffffff; display: inline-flex; " ng-if="exercises.dataStatus === 'F' && exercises.documentList.length > 0">练习已下发</span>
                          <span class="kt-badge kt-badge--inline kt-badge--pill kt-badge--success" style="color: #ffffff; display: inline-flex; " ng-if="exercises.dataStatus === 'F' && exercises.documentList.length === 0">已结束</span>
                        </td>
                      </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </form>
            </div>

            <div class="tab-pane" id="kt_tabs_1_3" role="tabpanel">
              报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生报名学生
            </div>
            <div class="tab-pane" id="kt_tabs_1_4" role="tabpanel">
              现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑现在答疑
            </div>
            <div class="tab-pane" id="kt_tabs_1_5" role="tabpanel">
              练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改练习批改
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="kt_modal_1" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
       aria-hidden="true" style="display: none;">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <form name="courseScheduleForm">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">修改课程表</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            </button>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-xl-6 separator--border-right">
                <div class="form-group">
                  <label>每周哪天授课</label>
                  <div class="kt-radio-list">
                    <label class="kt-radio" ng-repeat="weekday in model.weeklyDayList">
                      <input type="radio" name="weekday" ng-click="onChooseWeeklyDay(weekday)">
                      \{{weekday.dayText}}
                      <span></span>
                    </label>
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group">
                  <label>哪几节课授课</label>
                  <div class="kt-checkbox-list">
                    <label class="kt-checkbox" ng-repeat="course in model.courseList">
                      <input type="checkbox" name="courseTime" ng-click="onChooseCourse(course)">
                      \{{course.orderText}}（\{{course.time}}）
                      <span></span>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-primary" ng-click="onSelectCourseSchedule()"
                    ng-disabled="model.selectWeekday == null || model.selectCourseList.length == 0">确定
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="kt_modal_2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">修改授课计划(一门课程最多可创建300节课)</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <form name="coursePlanForm" novalidate>
          <div class="modal-body">
            <div class="row">
              <div class="col-xl-6">
                <div class="form-group">
                  <div class="dropdown search-form-dropdown">
                    <input type="text"
                           class="form-control"
                           ng-model="model.courseInfo.technologyName"
                           disabled
                           required>
                  </div>
                </div>

                <div class="form-group">
                  <input type="number" class="form-control" min="1" max="300" maxlength="3" ng-model="model.courseOrder" placeholder="请输入第几节课" required>
                </div>

                <div class="form-group">
                  <div class="dropdown search-form-dropdown">
                    <button class="btn btn-secondary" type="button" data-toggle="dropdown">
                      <span ng-bind="model.selectedLearningPhase.learningPhaseName"></span>
                      <i class="flaticon2-down"></i>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start">
                      <a ng-repeat="data in model.learningPhaseList"
                         class="dropdown-item"
                         href="javascript:;"
                         ng-click="onLearningPhase(data)"
                         ng-bind="data.learningPhaseName"></a>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label>这节课所包含的知识点</label>
                  <div class="row">
                    <div class="col-xl-12">
                      <div class="kt-checkbox-list">
                        <label class="kt-checkbox" ng-repeat="knowledge in model.knowledgeList">
                          <input type="checkbox" name="technologyKnowledge" ng-click="onChooseKnowledge(knowledge,$event)"> \{{knowledge.knowledgeName}}
                          <span></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-xl-6">
                <div class="form-group">
                  <label>第<span class="kt-font-danger font-weight-bolder" ng-bind="model.courseOrder"></span>节课讲授的知识点</label>
                  <div class="kt-notification kt-notification--fit">

                    <div class="kt-notification__item" ng-repeat="courseKnowledge in model.courseKnowledgeList">
                      <div class="kt-notification__item-icon course-knowledge-technology">
                        <img ng-src="\{{courseKnowledge.technologyThumbnail}}">
                      </div>
                      <div class="kt-notification__item-details">
                        <div class="kt-notification__item-title" ng-bind="courseKnowledge.knowledgeName">
                        </div>
                        <div class="kt-notification__item-time" ng-bind="courseKnowledge.learningPhaseName">
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-primary" ng-click="onSetCoursePlan()" ng-disabled="
                                                                                 model.courseOrder == undefined
                                                                              || model.selectedLearningPhase.learningPhaseID == 0
                                                                              || model.courseKnowledgeList.length == 0">确定</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal fade" id="kt_modal_3" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">第\{{model.exercisesCourseClass}}节课练习题</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          </button>
        </div>
        <form name="courseExercisesForm" novalidate>
          <div class="modal-body">
            <div class="kt-portlet ">
              <div class="kt-portlet__body">
                <!--begin::Accordion-->
                <div class="accordion accordion-light  accordion-svg-icon" id="accordionExample7">

                  <div class="card" ng-repeat="courseExercises in model.courseExercisesFilterList">
                    <div class="card-header" id="headingOne\{{$index}}">
                      <div class="card-title collapsed" data-toggle="collapse" data-target="#collapseOne\{{$index}}">
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" class="kt-svg-icon">
                          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <polygon points="0 0 24 0 24 24 0 24"></polygon>
                            <path d="M12.2928955,6.70710318 C11.9023712,6.31657888 11.9023712,5.68341391 12.2928955,5.29288961 C12.6834198,4.90236532 13.3165848,4.90236532 13.7071091,5.29288961 L19.7071091,11.2928896 C20.085688,11.6714686 20.0989336,12.281055 19.7371564,12.675721 L14.2371564,18.675721 C13.863964,19.08284 13.2313966,19.1103429 12.8242777,18.7371505 C12.4171587,18.3639581 12.3896557,17.7313908 12.7628481,17.3242718 L17.6158645,12.0300721 L12.2928955,6.70710318 Z" fill="#000000" fill-rule="nonzero"></path>
                            <path d="M3.70710678,15.7071068 C3.31658249,16.0976311 2.68341751,16.0976311 2.29289322,15.7071068 C1.90236893,15.3165825 1.90236893,14.6834175 2.29289322,14.2928932 L8.29289322,8.29289322 C8.67147216,7.91431428 9.28105859,7.90106866 9.67572463,8.26284586 L15.6757246,13.7628459 C16.0828436,14.1360383 16.1103465,14.7686056 15.7371541,15.1757246 C15.3639617,15.5828436 14.7313944,15.6103465 14.3242754,15.2371541 L9.03007575,10.3841378 L3.70710678,15.7071068 Z" fill="#000000" fill-rule="nonzero" opacity="0.3" transform="translate(9.000003, 11.999999) rotate(-270.000000) translate(-9.000003, -11.999999) "></path>
                          </g>
                        </svg>
                        <span ng-bind="courseExercises.knowledgeName"></span>
                      </div>
                    </div>
                    <div id="collapseOne\{{$index}}" class="collapse" style="">
                      <div class="card-body">
                        <div class="kt-widget4" ng-repeat="document in courseExercises.documentList">
                          <div class="kt-widget4__item" >
                            <div class="kt-widget4__pic kt-widget4__pic--icon">
                              <img src="/media/files/pdf.svg" alt="">
                            </div>
                            <a ng-href="\{{document.documentUrl}}"
                               target="_blank"
                               class="kt-widget4__title"
                               ng-bind="document.documentUrl.substr(document.documentUrl.lastIndexOf('/') + 1)">
                            </a>
                            <div class="kt-widget4__tools">
                              <a ng-href="\{{document.answerUrl}}" target="_blank" class="btn btn-clean">
                                参考示例
                              </a>
                            </div>
                          </div>
                        </div>



                      </div>
                    </div>
                  </div>
                </div>

                <!--end::Accordion-->
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
          </div>
        </form>
      </div>
    </div>
  </div>


</div>
<script src="/javascripts/views/courseDetail.js" type="text/javascript"></script>