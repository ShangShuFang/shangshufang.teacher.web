<!DOCTYPE html>
<html lang="zh">
<head>
  <base href="../">
  <meta charset="utf-8"/>
  <title>上书房智能教育 教师端账户注册</title>
  <meta name="description" content="上书房｜上书房智能教育">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700">
  <link href="stylesheets/style.css" rel="stylesheet" type="text/css"/>
  <link href="stylesheets/views/login.css" rel="stylesheet" type="text/css"/>
  <link href="stylesheets/views/register.css" rel="stylesheet" type="text/css"/>
  <link href="plugins/general/plugins/flaticon/flaticon.css" rel="stylesheet" type="text/css"/>
  <link href="plugins/general/plugins/flaticon2/flaticon.css" rel="stylesheet" type="text/css"/>
  <link href="stylesheets/style.bundle.css" rel="stylesheet" type="text/css"/>
  <link href="/images/favicon.ico" rel="shortcut icon"/>
  <script src="plugins/general/jquery/dist/jquery.js" type="text/javascript"></script>
  <script src="plugins/general/popper.js/dist/umd/popper.js" type="text/javascript"></script>
  <script src="plugins/general/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="plugins/general/bootbox/bootbox.js" type="text/javascript"></script>
  <script src="javascripts/angular-1.7.8/angular.min.js" type="text/javascript"></script>
  <script src="/javascripts/common/commonUtility.js" type="text/javascript"></script>
  <script src="/javascripts/common/Constants.js" type="text/javascript"></script>
  <script src="/javascripts/common/localMessage.js" type="text/javascript"></script>
  <script src="/javascripts/views/register.js" type="text/javascript"></script>
  <script>
    let KTAppOptions = {
      "colors": {
        "state": {
          "brand": "#3d94fb",
          "light": "#ffffff",
          "dark": "#282a3c",
          "primary": "#5867dd",
          "success": "#34bfa3",
          "info": "#3d94fb",
          "warning": "#ffb822",
          "danger": "#fd27eb"
        },
        "base": {
          "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
          "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
        }
      }
    };
  </script>
</head>

<body class="kt-page--loading-enabled kt-page--loading kt-header--fixed kt-header--minimize-topbar kt-header-mobile--fixed kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-subheader--enabled kt-subheader--transparent kt-page--loading">
  <div class="kt-grid kt-grid--ver kt-grid--root kt-page">
    <div class="kt-grid kt-grid--hor kt-grid--root  kt-login kt-login--v1" id="kt_login">
      <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--desktop kt-grid--ver-desktop kt-grid--hor-tablet-and-mobile">

        <!--begin::Aside-->
        <div class="kt-grid__item kt-grid__item--order-tablet-and-mobile-2 kt-grid kt-grid--hor kt-login__aside shs-login-left">
          <div class="kt-grid__item">
            <a href="#" class="kt-login__logo">
              <img src="/images/logo.png" style="width: 260px">
            </a>
          </div>
          <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver">
            <div class="kt-grid__item kt-grid__item--middle">
              <h3 class="kt-login__title"> </h3>
              <h4 class="kt-login__subtitle"> </h4>
            </div>
          </div>
          <div class="kt-grid__item">
            <div class="kt-login__info">
              <div class="kt-login__copyright">
                &copy 2020~2021 西安樱桃谷信息技术有限公司
              </div>
              <div class="kt-login__menu">
                <a href="#" class="kt-link">联系我们</a>
              </div>
            </div>
          </div>
        </div>

        <!--begin::Aside-->

        <!--begin::Content-->
        <div class="kt-grid__item kt-grid__item--fluid  kt-grid__item--order-tablet-and-mobile-1  kt-login__wrapper">

          <!--begin::Body-->
          <div class="kt-login__body">

            <!--begin::Signin-->
            <div class="kt-login__form" ng-app="pageApp" ng-controller="pageCtrl">
              <div class="kt-login__title">
                <h3><span style="color: #5867dd;">上书房</span>智慧教育平台</h3>
                <h4>教师端账户注册</h4>
              </div>

              <!--begin::Register form-->
              <form ng-cloak class="kt-form" name="myForm" ng-if="!model.isRegisterSuccess" novalidate>
                <div class="form-group">
                  <div class="dropdown form-dropdown">
                    <button type="button" class="btn btn-secondary" data-toggle="dropdown">
                      <span ng-bind="model.selectedUniversity.universityName"></span>
                      <i class="flaticon2-down"></i>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start">
                      <a class="dropdown-item" href="javascript:;"
                         ng-click="onUniversityChange(0, '请所择所在高校')">请所择所在高校</a>
                      <div class="dropdown-divider"></div>
                      <a ng-repeat="data in model.universityList"
                         class="dropdown-item"
                         href="javascript:;"
                         ng-click="onUniversityChange(data.universityCode, data.universityName)"
                         ng-bind="data.universityName"></a>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <div class="dropdown form-dropdown">
                    <button class="btn btn-secondary" type="button" data-toggle="dropdown">
                      <span ng-bind="model.selectedSchool.schoolName"></span>
                      <i class="flaticon2-down"></i>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" x-placement="bottom-start">
                      <a class="dropdown-item" href="javascript:;" ng-click="onSchoolChange(0, '请所择所在二级学院')">请所择所在二级学院</a>
                      <div class="dropdown-divider"></div>
                      <a ng-repeat="data in model.schoolList"
                         class="dropdown-item"
                         href="javascript:;"
                         ng-click="onSchoolChange(data.schoolID, data.schoolName)"
                         ng-bind="data.schoolName"></a>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <input class="form-control" type="text" placeholder="请输入姓名" maxlength="15" name="fullName"
                         ng-model="model.fullName" required>
                </div>

                <div class="form-group">
                  <input type="tel"
                         class="form-control"
                         ng-class="{'is-invalid': model.isCellphoneInvalid == 1, 'is-valid': model.isCellphoneInvalid == 0}"
                         placeholder="请输入手机号码"
                         maxlength="11"
                         name="cellphone"
                         ng-model="model.cellphone"
                         ng-blur="onCellphoneBlur()"
                         required>
                  <div class="invalid-feedback" ng-if="model.isCellphoneInvalid === 1" ng-bind="model.checkCellphoneAlterMessage"></div>
                </div>

                <div class="form-group">
                  <div class="form-verification-code">
                    <input class="form-control"
                           ng-class="{'is-invalid': model.isCodeInvalid == 1, 'is-valid': model.isCodeInvalid == 0}"
                           type="text"
                           placeholder="请输入6位验证码"
                           maxlength="6"
                           name="verificationCode"
                           ng-model="model.verificationCode"
                           required>
                    <button type="button"
                            class="btn btn-primary-info"
                            ng-if="!model.isSending"
                            ng-disabled="myForm.cellphone.$pristine
                                        || (myForm.cellphone.$dirty && myForm.cellphone.$invalid)
                                        || model.isCellphoneInvalid != 0"
                            ng-click="onSendVerificationCode()">
                      免费获取验证码
                    </button>
                    <button type="button"
                            class="btn btn-primary-info disabled"
                            ng-if="model.isSending">
                      (\{{model.countdown}})秒后重新发送
                    </button>
                  </div>
                  <div class="invalid-feedback" ng-style="{'display': model.isCodeInvalid == 1 ? 'block':'none'}" ng-bind="model.verificationCodeAlertMessage"></div>
                </div>
                <div class="form-group">
                  <input class="form-control"
                         type="password"
                         placeholder="请输入最长12位的密码"
                         maxlength="12"
                         name="password"
                         ng-model="model.password"
                         required
                         autocomplete="close">
                </div>

                <div class="form-group">
                  <input type="password"
                         name="confirmPassword"
                         class="form-control"
                         ng-class="{'is-invalid': model.isPasswordInvalid == 1, 'is-valid': model.isPasswordInvalid == 0}"
                         maxlength="12"
                         ng-model="model.confirmPassword"
                         ng-blur="onConfirmPasswordBlur()"
                         placeholder="请再次输入密码"
                         required
                         autocomplete="close">
                  <div class="invalid-feedback" ng-if="model.isPasswordInvalid === 1">两次输入的密码不一致</div>
                </div>

                <div class="kt-login__actions">
                  <a href="/login" class="kt-link kt-login__link-forgot" style="margin-left: 3px">
                    <i class="flaticon-reply"></i>
                    返回登陆
                  </a>
                  <button type="button"
                          class="btn btn-primary btn-elevate kt-login__btn-primary"
                          ng-click="onRegister()"
                          ng-disabled=" model.selectedUniversity.universityCode === 0
                                    || model.selectedSchool.schoolID === 0
                                    || myForm.fullName.$pristine
                                    || (myForm.fullName.$dirty && myForm.fullName.$invalid)
                                    || myForm.cellphone.$pristine
                                    || (myForm.cellphone.$dirty && myForm.cellphone.$invalid)
                                    || model.isCellphoneInvalid != 0
                                    || myForm.verificationCode.$pristine
                                    || (myForm.verificationCode.$dirty && myForm.verificationCode.$invalid)
                                    || myForm.password.$pristine
                                    || (myForm.password.$dirty && myForm.password.$invalid)
                                    || myForm.confirmPassword.$pristine
                                    || (myForm.confirmPassword.$dirty && myForm.confirmPassword.$invalid)
                                    || model.isPasswordInvalid != 0">
                    注 册
                  </button>
                </div>
              </form>
              <!--end::Register form-->

              <!--begin::Register success form-->
              <form ng-cloak class="kt-form" ng-if="model.isRegisterSuccess">
                <div class="form-group">
                  <div class="kt-section__content">
                    <div class="kt-demo">
                      <div class="kt-demo__preview">
                        <div class="alert alert-success" role="alert">
                          <div class="alert-text">
                            <h4 class="alert-heading">
                              <i class="flaticon2-check-mark"></i>
                              注册信息已提交!
                            </h4>
                            <p>您的注册信息已提交，等待您所在院校二级学院的管理员审批，审批通过后方可登陆系统.</p>
                            <hr>
                            <p class="mb-0">感谢您使用上书房智慧教育平台，上书房——智能教育的领航者.（TODO...）</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="kt-login__actions">
                  <a href="/login" class="kt-link kt-login__link-forgot" style="margin-left: 3px">
                    <i class="flaticon-reply"></i>
                    返回登陆
                  </a>
                </div>
              </form>
              <!--end::Register success form-->

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>